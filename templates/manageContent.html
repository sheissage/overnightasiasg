<!DOCTYPE HTML>
<html lang="en">
{% load staticfiles %}
<html xmlns="http://www.w3.org/1999/html">

<head>
<title>Overnight.asia | Create & Manage Hotel/Property</title>


<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta name="keywords" content="Template, html, premium, themeforest" />
<meta name="description"
	content="Traveler - Premium template for travel companies">
<meta name="author" content="Ahshida" >
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- GOOGLE FONTS -->
<link
	href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700'
	rel='stylesheet' type='text/css'>
<link
	href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600'
	rel='stylesheet' type='text/css'>
<!-- /GOOGLE FONTS -->
<link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" >
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">
<link rel="stylesheet" href="{% static 'css/icomoon.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="{% static 'css/mystyles.css' %}">
<script src="{% static 'js/modernizr.js' %}"></script>


<style>
* {
	box-sizing: border-box;
}
</style>

<script>
  var loadFile = function(event) {
    var output = document.getElementById('output');
    output.src = URL.createObjectURL(event.target.files[0]);
  };
</script>
</head>

<body>

	<!-- FACEBOOK WIDGET -->
	<div id="fb-root"></div>
	<script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
	<!-- /FACEBOOK WIDGET -->
	<div class="global-wrap">
		<header id="main-header">
			<div class="header-top">
				<div class="container">
					<div class="row">
						<div class="col-md-3">
							<a class="logo" href="landingpage.html"> <img
								class="origin square" src="{% static 'img/overnightlogo1.png'%}"
								style="width: 40px;" alt="Image Alternative text"
								title="Image Title" />
							</a>
						</div>
						<div class="col-md-3 col-md-offset-2"></div>
						<div class="col-md-4">
							<div class="top-user-area clearfix">
								<ul class="top-user-area-list list list-horizontal list-border">

									<li class="top-user-area-avatar"><a
										href="/showUserProfile/" onclick="submit"> <img class="origin round"
											src= "{% static 'img/40x40.png'%}" alt="Image Alternative text"
											title="AMaze" />Hi, {{request.user.first_name}}
					</a></li>
									<li><a href="/logoutUser/">Logout</a></li>
									<!--<li><a href="#">Sign In</a></li>
									</li>
									<li><a href="#">Sign Up</a></li>-->
							</div>
						</div>
					</div>
				</div>
			</div>

		</header>




		<div class="booking-title" id="search-dialog">



			<div class="gap"></div>
			<div class="gap"></div>
			<div class="gap"></div>
		</div>


	</div>

	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<select name="mode" id="mode" class="form-control" onchange="getDetails(this.value)"">
					<option value="new"> NEW </option>
					{% for hotel in hotels%}
						<option value="{{hotel.hotelId}}">{{hotel.hotelName}}</option>
					{% endfor %}
				</select>
			</div>
			<div class="col-md-9">
				<p style="font-size:12px"> Select Hotel to Edit or NEW to create new Hotel</p>
			</div>
		</div>
		<hr>

		<form method="POST" id="createhotel" enctype="multipart/form-data" action="/createHotel/">
		{% csrf_token%}
			<input class="form-control" id="hotelId" name="hotelId" type="hidden"/>
				<div class="row">

					<div class="col-md-3">
						<div class="form-group form-group-icon-left">

								<br><select id="destination" name="destination" class="form-control">
								<option value="Bali">Bali</option>
								<option value="Bangkok">Bandung</option>
								<option value="Bangkok">Bangkok</option>
								<option value="Chanthaburi">Chanthaburi</option>
								<option value="Jakarta">Jakarta</option>
								<option value="Kuala Lumpur">Kuala Lumpur</option>
								<option value="Penang">Penang</option>
								<option value="Phuket">Phuket</option>
								<option value="Singapore">Singapore</option>
								<option value="Yangon">Yangon</option>
								<option value="Manila">Manila</option>
								<option value="Cebu">Cebu</option>
								</select><br>

								<br><input class="form-control" id="name" name="name" type="text" placeholder ="Hotel/Property's Name"/>
								<br>
								<textarea class="form-control" id="description" name="description" type="text" rows="4" cols="50" placeholder ="Hotel Description"/></textarea>
								<br>
								<textarea class="form-control" id="address" name="address" type="text" rows="4" cols="50" placeholder ="Hotel/Property's Address"/></textarea>
								<br>
								<textarea class="form-control" id="amenities" name="amenities" type="text" rows="4" cols="50" placeholder ="List your amenities, please use commas"/></textarea>
								<br>
								<textarea class="form-control" id="services" name="services" type="text" rows="4" cols="50" placeholder ="List your services, please use commas"/></textarea>
								<br>
								<textarea class="form-control" id="roomType" name="roomtype" type="text" rows="4" cols="50" placeholder ="List the available room types, use commas"/></textarea>
						</br>
						<select id="currency" name="currency" class="form-control">
							<option value="USD" selected>USD</option>
							<option value="SGD" selected>SGD</option>
							<option value="INR" selected>INR</option>
							<option value="JPY" selected>JPY</option>
							<option value="TBH" selected>TBH</option>
							<option value="MYR" selected>MYR</option>
						</select>
						<br>
							<input class="form-control" id="airporttransfer" name="airporttransfer" type="text" placeholder ="Airport Transfer Cost"/>
						<br>
						</div>
					</div>

					<div class="col-md-3">
					</div>
				</div>
			<br>
			<button id="actionbutton" class="btn btn-primary btn-lg" type="submit">Create</button>&nbsp;&nbsp;
			<button id="deletebutton" class="btn btn-primary btn-lg" type='button' onclick="deleteHotel()" disabled>Delete</button>

		</form>


		<div class="gap"></div>
	</div>

	<div class="gap"></div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-md-8"></div>
				<div class="col-md-3" style="padding-bottom: 10px; text-align: right;">
					<a href="https://www.facebook.com/overnightasia/"><i class="fa fa-facebook" aria-hidden="true" style="color: #ff8400; font-size: 18px;"></i> &nbsp;</a>
					<a href="https://www.instagram.com/overnightasia/"><i class="fa fa-instagram" aria-hidden="true" style="color: #ff8400; font-size: 18px;"></i> &nbsp;</a>
					<a href="https://twitter.com/overnightasia"><i class="fa fa-twitter" aria-hidden="true" style="color: #ff8400; font-size: 19px;"></i> &nbsp;</a>
					<a href="https://www.linkedin.com/company/overnight-asia"><i class="fa fa-linkedin" aria-hidden="true" style="color: #ff8400; font-size: 20px;"></i> &nbsp;</a>
					<a href="http://www.overnight.asia/mailto:ahshida@overnight.asia"><i class="fa fa-envelope-o" aria-hidden="true" style="color: #ff8400; font-size: 18px;"></i> &nbsp;</a>

				</div>

			</div>
		</div>
		<div class="container">
			<div class="row" style="font-size: 14px;">
				<div class="col-md-1"></div>
				<div class="col-md-3" style="color: #ff8400;">Overnight.asia All Rights Reserved 2016</div>
				<div class="col-md-3"></div>
				<div class="col-md-4" style="text-align: right;"><a style="color: #ff8400;" href="http://www.overnight.asia/about.html">About |</a>
					<a style="color: #ff8400;" href="http://www.overnight.asia/privacy-policy.html">Privacy Policy |</a>
					 <a style="color: #ff8400;" href="http://www.overnight.asia/terms-of-website.html">Terms of Website </a> </div>
				<div class="col-md-1"></div>
			</div><br><br><br>
		</div>
	</div>
	</footer>
	<script  src="{% static 'js/jquery.js' %}" ></script>
	<script src= "{% static 'js/bootstrap.js' %}"></script>
	<script src= "{% static 'js/slimmenu.js' %}"></script>
	<script src= "{% static 'js/bootstrap-datepicker.js' %}"></script>
	<script src= "{% static 'js/bootstrap-timepicker.js' %}"></script>
	<script src= "{% static 'js/nicescroll.js' %}"></script>
	<script src= "{% static 'js/dropit.js' %}"></script>
	<script src= "{% static 'js/ionrangeslider.js' %}"></script>
	<script src= "{% static 'js/icheck.js' %}"></script>
	<script src= "{% static 'js/fotorama.js' %}"></script>
	<script
		src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false" ></script>
	<script src= "{% static 'js/typeahead.js' %}"></script>
	<script src= "{% static 'js/card-payment.js' %}"></script>
	<script src= "{% static 'js/magnific.js' %}"></script>
	<script src= "{% static 'js/owl-carousel.js' %}"></script>
	<script src= "{% static 'js/fitvids.js' %}"></script>
	<script src= "{% static 'js/tweet.js' %}"></script>
	<script src= "{% static 'js/countdown.js' %}"></script>
	<script src="{% static 'js/gridrotator.js' %}"></script>
	<script src="{% static 'js/custom.js' %}"></script>

</body>
<script type="text/javascript">
	$('a[href*=#]:not([href=#])').click(function() {
	    if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
	        || location.hostname == this.hostname) {

	        var target = $(this.hash);
	        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
	           if (target.length) {
	             $('html,body').animate({
	                 scrollTop: target.offset().top
	            }, 1000);
	            return false;
	        }
	    }
	});

	function deleteHotel() {
		var value = $('#hotelId').val();

		$.ajax({
			url: '/deleteHotel/',
			type: 'GET',
			data: {
				'hotelId': value
			},
			success: function(data) {
				location.reload();
			},
			error: function (XMLHttpRequest, textStatus, errorThrown) {
				console.log(errorThrown);
				console.log(textStatus);

	        }
		});
	}

	function getDetails(value) {
		if(value != 'new') {

			$('#hotelId').val(value);

			$.ajax({
				url: '/getHotelInfo/',
				type: 'GET',
				data: {
					'hotelId': value
				},
				success: function(data) {
					$('#destination').val(data['destination']);
					$('#name').val(data['hotelName']);
					$('#description').val(data['hotelDescription']);
					$('#address').val(data['hotelAddress']);
					$('#amenities').val(data['hotelAmens']);
					$('#services').val(data['hotelServices']);
					$('#roomType').val(data['hotelRoomTypes']);
					$('#currency').val(data['currency']);
					$('#airporttransfer').val(data['airporttransfer']);
					$('#createhotel').attr('action', '/updateHotel/');
					$('#actionbutton').text("Update");
					$('#deletebutton').prop('disabled', false);
					

				},
				error: function (XMLHttpRequest, textStatus, errorThrown) {
					console.log(errorThrown);
					console.log(textStatus);

		        }
			});
		} else {
			$('#createhotel').attr('action', '/createHotel/');
			$('#deletebutton').prop('disabled', true);
			$('#actionbutton').text("Create");
			$('#hotelId').val("");
			$('#destination').val("");
			$('#name').val("");
			$('#description').val("");
			$('#address').val("");
			$('#amenities').val("");
			$('#services').val("");
			$('#roomType').val("");
			$('#currency').val("USD");
			$('#airporttransfer').val(0);
		}
	};
</script>
</html>
